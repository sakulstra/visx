_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[121],{"1ZAE":function(e,t,n){"use strict";n.r(t);var r=n("ERkP"),a=n.n(r),o=n("6wy5"),i=n("Vqip"),s=n("f6XN"),c=a.a.createElement;t.default=function(){return c(o.a,{component:i.b,title:"Stacked Areas",codeSandboxDirectoryName:"visx-stacked-areas",margin:{top:0,left:0,right:0,bottom:10},packageJson:s},"import React from 'react';\nimport { AreaStack } from '@visx/shape';\nimport { SeriesPoint } from '@visx/shape/lib/types';\nimport { GradientOrangeRed } from '@visx/gradient';\nimport browserUsage, { BrowserUsage } from '@visx/mock-data/lib/mocks/browserUsage';\nimport { scaleTime, scaleLinear } from '@visx/scale';\nimport { timeParse } from 'd3-time-format';\n\ntype BrowserNames = keyof BrowserUsage;\n\nconst data = browserUsage;\nconst keys = Object.keys(data[0]).filter(k => k !== 'date') as BrowserNames[];\nconst parseDate = timeParse('%Y %b %d');\nexport const background = '#f38181';\n\nconst getDate = (d: BrowserUsage) => (parseDate(d.date) as Date).valueOf();\nconst getY0 = (d: SeriesPoint<BrowserUsage>) => d[0] / 100;\nconst getY1 = (d: SeriesPoint<BrowserUsage>) => d[1] / 100;\n\nexport type StackedAreasProps = {\n  width: number;\n  height: number;\n  events?: boolean;\n  margin?: { top: number; right: number; bottom: number; left: number };\n};\n\nexport default function Example({\n  width,\n  height,\n  margin = { top: 0, right: 0, bottom: 0, left: 0 },\n  events = false,\n}: StackedAreasProps) {\n  // bounds\n  const yMax = height - margin.top - margin.bottom;\n  const xMax = width - margin.left - margin.right;\n\n  // scales\n  const xScale = scaleTime<number>({\n    range: [0, xMax],\n    domain: [Math.min(...data.map(getDate)), Math.max(...data.map(getDate))],\n  });\n  const yScale = scaleLinear<number>({\n    range: [yMax, 0],\n  });\n\n  return width < 10 ? null : (\n    <svg width={width} height={height}>\n      <GradientOrangeRed id=\"stacked-area-orangered\" />\n      <rect x={0} y={0} width={width} height={height} fill={background} rx={14} />\n      <AreaStack\n        top={margin.top}\n        left={margin.left}\n        keys={keys}\n        data={data}\n        x={d => xScale(getDate(d.data)) ?? 0}\n        y0={d => yScale(getY0(d)) ?? 0}\n        y1={d => yScale(getY1(d)) ?? 0}\n      >\n        {({ stacks, path }) =>\n          stacks.map(stack => (\n            <path\n              key={`stack-${stack.key}`}\n              d={path(stack) || ''}\n              stroke=\"transparent\"\n              fill=\"url(#stacked-area-orangered)\"\n              onClick={() => {\n                if (events) alert(`${stack.key}`);\n              }}\n            />\n          ))\n        }\n      </AreaStack>\n    </svg>\n  );\n}\n")}},"7kLB":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/stacked-areas",function(){return n("1ZAE")}])},"Cf/J":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("aWzz"),a=n.n(r),o=n("ERkP"),i=n.n(o);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){var t=e.children,n=e.id,r=e.from,a=e.to,o=e.x1,c=e.y1,f=e.x2,u=e.y2,l=e.fromOffset,d=void 0===l?"0%":l,p=e.fromOpacity,m=void 0===p?1:p,y=e.toOffset,v=void 0===y?"100%":y,g=e.toOpacity,h=void 0===g?1:g,b=e.rotate,k=e.transform,x=e.vertical,O=void 0===x||x,w=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children","id","from","to","x1","y1","x2","y2","fromOffset","fromOpacity","toOffset","toOpacity","rotate","transform","vertical"]),E=o,j=f,S=c,P=u;return!O||E||j||S||P||(E="0",j="0",S="0",P="1"),i.a.createElement("defs",null,i.a.createElement("linearGradient",s({id:n,x1:E,y1:S,x2:j,y2:P,gradientTransform:b?"rotate("+b+")":k},w),!!t&&t,!t&&i.a.createElement("stop",{offset:d,stopColor:r,stopOpacity:m}),!t&&i.a.createElement("stop",{offset:v,stopColor:a,stopOpacity:h})))}c.propTypes={id:a.a.string.isRequired,from:a.a.string,to:a.a.string,x1:a.a.oneOfType([a.a.string,a.a.number]),x2:a.a.oneOfType([a.a.string,a.a.number]),y1:a.a.oneOfType([a.a.string,a.a.number]),y2:a.a.oneOfType([a.a.string,a.a.number]),fromOffset:a.a.oneOfType([a.a.string,a.a.number]),fromOpacity:a.a.oneOfType([a.a.string,a.a.number]),toOffset:a.a.oneOfType([a.a.string,a.a.number]),toOpacity:a.a.oneOfType([a.a.string,a.a.number]),rotate:a.a.oneOfType([a.a.string,a.a.number]),transform:a.a.string,children:a.a.node,vertical:a.a.bool}},"E+ue":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("ERkP"),a=n.n(r),o=n("O94r"),i=n.n(o),s=n("JmwF"),c=n("dGDr");function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){var t=e.className,n=e.top,r=e.left,o=e.keys,u=e.data,l=e.curve,d=e.defined,p=e.x,m=e.x0,y=e.x1,v=e.y0,g=e.y1,h=e.value,b=e.order,k=e.offset,x=e.color,O=e.children,w=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["className","top","left","keys","data","curve","defined","x","x0","x1","y0","y1","value","order","offset","color","children"]),E=Object(c.f)({keys:o,value:h,order:b,offset:k}),j=Object(c.b)({x:p,x0:m,x1:y,y0:v,y1:g,curve:l,defined:d}),S=E(u);return O?a.a.createElement(a.a.Fragment,null,O({stacks:S,path:j,stack:E})):a.a.createElement(s.a,{top:n,left:r},S.map((function(e,n){return a.a.createElement("path",f({className:i()("visx-stack",t),key:"stack-"+n+"-"+(e.key||""),d:j(e)||"",fill:null==x?void 0:x(e.key,n)},w))})))}},HO86:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("lEbO");function a(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},JmwF:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("aWzz"),a=n.n(r),o=n("ERkP"),i=n.n(o),s=n("O94r"),c=n.n(s);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){var t=e.top,n=void 0===t?0:t,r=e.left,a=void 0===r?0:r,o=e.transform,s=e.className,u=e.children,l=e.innerRef,d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["top","left","transform","className","children","innerRef"]);return i.a.createElement("g",f({ref:l,className:c()("visx-group",s),transform:o||"translate("+a+", "+n+")"},d),u)}u.propTypes={top:a.a.number,left:a.a.number,transform:a.a.string,className:a.a.string,children:a.a.node,innerRef:a.a.oneOfType([a.a.string,a.a.func,a.a.object])}},QrqA:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("ERkP"),a=n.n(r),o=n("O94r"),i=n.n(o),s=n("E+ue");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e){var t=e.className,n=e.top,r=e.left,o=e.keys,f=e.data,u=e.curve,l=e.defined,d=e.x,p=e.x0,m=e.x1,y=e.y0,v=e.y1,g=e.value,h=e.order,b=e.offset,k=e.color,x=e.children,O=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["className","top","left","keys","data","curve","defined","x","x0","x1","y0","y1","value","order","offset","color","children"]);return a.a.createElement(s.a,c({className:t,top:n,left:r,keys:o,data:f,curve:u,defined:l,x:d,x0:p,x1:m,y0:y,y1:v,value:g,order:h,offset:b,color:k},O),x||function(e){var n=e.stacks,r=e.path;return n.map((function(e,n){return a.a.createElement("path",c({className:i()("visx-area-stack",t),key:"area-stack-"+n+"-"+(e.key||""),d:r(e)||"",fill:null==k?void 0:k(e.key,n)},O))}))})}},Vqip:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return b}));var r=n("fGyu"),a=n("ERkP"),o=n.n(a),i=n("QrqA"),s=n("wPPg"),c=n("eEjM"),f=n.n(c),u=n("cjvV"),l=n("67po"),d=n("mHfT"),p=o.a.createElement,m=f.a,y=Object.keys(m[0]).filter((function(e){return"date"!==e})),v=Object(d.b)("%Y %b %d"),g="#f38181",h=function(e){return v(e.date).valueOf()};function b(e){var t=e.width,n=e.height,a=e.margin,o=void 0===a?{top:0,right:0,bottom:0,left:0}:a,c=e.events,f=void 0!==c&&c,d=n-o.top-o.bottom,v=t-o.left-o.right,b=Object(u.a)({range:[0,v],domain:[Math.min.apply(Math,Object(r.a)(m.map(h))),Math.max.apply(Math,Object(r.a)(m.map(h)))]}),k=Object(l.a)({range:[d,0]});return t<10?null:p("svg",{width:t,height:n},p(s.a,{id:"stacked-area-orangered"}),p("rect",{x:0,y:0,width:t,height:n,fill:g,rx:14}),p(i.a,{top:o.top,left:o.left,keys:y,data:m,x:function(e){var t;return null!==(t=b(h(e.data)))&&void 0!==t?t:0},y0:function(e){var t;return null!==(t=k(function(e){return e[0]/100}(e)))&&void 0!==t?t:0},y1:function(e){var t;return null!==(t=k(function(e){return e[1]/100}(e)))&&void 0!==t?t:0}},(function(e){var t=e.stacks,n=e.path;return t.map((function(e){return p("path",{key:"stack-".concat(e.key),d:n(e)||"",stroke:"transparent",fill:"url(#stacked-area-orangered)",onClick:function(){f&&alert("".concat(e.key))}})}))})))}try{b.displayName="Example",b.__docgenInfo={description:"",displayName:"Example",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},events:{defaultValue:{value:!1},description:"",name:"events",required:!1,type:{name:"boolean | undefined"}},margin:{defaultValue:{value:"{ top: 0, right: 0, bottom: 0, left: 0 }"},description:"",name:"margin",required:!1,type:{name:"{ top: number; right: number; bottom: number; left: number; } | undefined"}}}},"undefined"!==typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/sandboxes/visx-stacked-areas/Example.tsx#Example"]={docgenInfo:b.__docgenInfo,name:"Example",path:"src/sandboxes/visx-stacked-areas/Example.tsx#Example"})}catch(k){}},f6XN:function(e){e.exports=JSON.parse('{"name":"@visx/demo-stacked-areas","description":"Standalone visx stacked area demo.","main":"index.tsx","private":true,"dependencies":{"@babel/runtime":"^7.8.4","@types/react":"^16","@types/react-dom":"^16","@visx/gradient":"latest","@visx/mock-data":"latest","@visx/responsive":"latest","@visx/scale":"latest","@visx/shape":"latest","d3-time-format":"2.2.3","react":"^16","react-dom":"^16","react-scripts-ts":"3.1.0","typescript":"^3"},"keywords":["visualization","d3","react","visx","stackedarea"]}')},fGyu:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("lEbO");var a=n("HO86");function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},lEbO:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},wPPg:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("ERkP"),a=n.n(r),o=n("Cf/J");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e){var t=e.from,n=void 0===t?"#FCE38A":t,r=e.to,s=void 0===r?"#F38181":r,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["from","to"]);return a.a.createElement(o.a,i({from:n,to:s},c))}}},[["7kLB",0,2,1,3,4,5,6,7,11,17,25]]]);